<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HighPipe EKS ì•„í‚¤í…ì²˜</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            text-align: center;
        }
        .loading {
            background: #e3f2fd;
            color: #1976d2;
        }
        .error {
            background: #ffebee;
            color: #c62828;
        }
        .success {
            background: #e8f5e8;
            color: #2e7d32;
        }
        .test-btn {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        .test-btn:hover {
            background: #45a049;
        }
        #diagram-container {
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
            min-height: 200px;
            background: #fafafa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—ï¸ HighPipe EKS ì•„í‚¤í…ì²˜ í…ŒìŠ¤íŠ¸</h1>
        
        <div id="status" class="status loading">
            ì‹œìŠ¤í…œ í™•ì¸ ì¤‘...
        </div>
        
        <button class="test-btn" onclick="testMermaid()">Mermaid í…ŒìŠ¤íŠ¸</button>
        <button class="test-btn" onclick="testSimpleDiagram()">ê°„ë‹¨í•œ ë‹¤ì´ì–´ê·¸ë¨ í…ŒìŠ¤íŠ¸</button>
        <button class="test-btn" onclick="showStaticDiagram()">ì •ì  ë‹¤ì´ì–´ê·¸ë¨ ë³´ê¸°</button>
        
        <div id="diagram-container">
            <p>ì—¬ê¸°ì— ë‹¤ì´ì–´ê·¸ë¨ì´ í‘œì‹œë©ë‹ˆë‹¤...</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        let mermaidLoaded = false;
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìƒíƒœ í™•ì¸
        window.addEventListener('load', function() {
            checkStatus();
        });
        
        function checkStatus() {
            const statusDiv = document.getElementById('status');
            
            // Mermaid ë¡œë”© í™•ì¸
            if (typeof mermaid !== 'undefined') {
                mermaidLoaded = true;
                statusDiv.className = 'status success';
                statusDiv.innerHTML = 'âœ… Mermaid ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì™„ë£Œ! ë‹¤ì´ì–´ê·¸ë¨ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”.';
                
                // Mermaid ì´ˆê¸°í™”
                mermaid.initialize({
                    startOnLoad: true,
                    theme: 'default',
                    securityLevel: 'loose'
                });
            } else {
                statusDiv.className = 'status error';
                statusDiv.innerHTML = 'âŒ Mermaid ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì‹¤íŒ¨. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.';
            }
        }
        
        function testMermaid() {
            const container = document.getElementById('diagram-container');
            
            if (!mermaidLoaded) {
                container.innerHTML = '<p style="color: red;">âŒ Mermaid ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¡œë”©ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            container.innerHTML = '<div class="mermaid">graph TD; A[ì‹œì‘] --> B[Mermaid í…ŒìŠ¤íŠ¸]; B --> C[ì„±ê³µ!]; style A fill:#f9f,stroke:#333,stroke-width:2px; style C fill:#9f9,stroke:#333,stroke-width:2px;</div>';
            
            // Mermaid ë‹¤ì‹œ ë Œë”ë§
            mermaid.init(undefined, container.querySelector('.mermaid'));
        }
        
        function testSimpleDiagram() {
            const container = document.getElementById('diagram-container');
            
            if (!mermaidLoaded) {
                container.innerHTML = '<p style="color: red;">âŒ Mermaid ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¡œë”©ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            const diagramCode = `
                <div class="mermaid">
                graph TB
                    User[ğŸ‘¤ ì‚¬ìš©ì] --> Frontend[âš›ï¸ Frontend]
                    Frontend --> API[ğŸ–¥ï¸ Backend API]
                    API --> DB[ğŸ—„ï¸ Database]
                    
                    classDef user fill:#e1f5fe
                    classDef app fill:#f3e5f5
                    classDef data fill:#e8f5e8
                    
                    class User user
                    class Frontend,API app
                    class DB data
                </div>
            `;
            
            container.innerHTML = diagramCode;
            mermaid.init(undefined, container.querySelector('.mermaid'));
        }
        
        function showStaticDiagram() {
            const container = document.getElementById('diagram-container');
            
            // ì •ì  ASCII ë‹¤ì´ì–´ê·¸ë¨
            container.innerHTML = `
                <pre style="font-family: monospace; background: white; padding: 15px; border: 1px solid #ccc;">
ğŸ—ï¸ HighPipe EKS ì•„í‚¤í…ì²˜ (ì •ì  ë²„ì „)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AWS EKS Cluster                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Web Tier      â”‚  â”‚  Application    â”‚  â”‚   Data Tier     â”‚  â”‚
â”‚  â”‚   Namespace     â”‚  â”‚   Tier          â”‚  â”‚   Namespace     â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚   Namespace     â”‚  â”‚                 â”‚  â”‚
â”‚  â”‚ - Frontend      â”‚  â”‚ - Backend API   â”‚  â”‚ - Kafka         â”‚  â”‚
â”‚  â”‚ - Nginx LB      â”‚  â”‚ - WebSocket     â”‚  â”‚ - Redis         â”‚  â”‚
â”‚  â”‚ - Ingress       â”‚  â”‚ - Airflow       â”‚  â”‚ - PostgreSQL    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ - Crawling      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â”‚ - Analysis      â”‚                       â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“Š ë…¸ë“œ ê·¸ë£¹:
â€¢ ğŸ’» General (m5.large/xlarge) - ì›¹ ì„œë¹„ìŠ¤
â€¢ ğŸ® GPU (g4dn.xlarge) - LLM ë¶„ì„  
â€¢ ğŸ’¾ Data (r5.large/xlarge) - ë©”ëª¨ë¦¬ ì§‘ì•½ì 
â€¢ ğŸ’° Spot - ë°°ì¹˜ ì²˜ë¦¬ (ë¹„ìš© ì ˆì•½)

ğŸ”„ ë°ì´í„° í”Œë¡œìš°:
ì‚¬ìš©ì â†’ Frontend â†’ API â†’ Kafka â†’ Airflow â†’ í¬ë¡¤ë§/ë¶„ì„ â†’ ê²°ê³¼

ğŸ›¡ï¸ ë³´ì•ˆ:
â€¢ VPC Private/Public ì„œë¸Œë„· ë¶„ë¦¬
â€¢ Security Groups & Network Policies  
â€¢ ALB + Ingress Controller
                </pre>
            `;
        }
        
        // 5ì´ˆ í›„ ìë™ìœ¼ë¡œ ìƒíƒœ ì¬í™•ì¸
        setTimeout(checkStatus, 5000);
    </script>
</body>
</html>